!function(t,i){if("function"==typeof define&&define.amd)define(["require","lodash","khoaijs-event-emitter"],function(n,e,o){var c=i(e,o);return n.specified("khoaijs")&&n(["khoaijs"],function(t){t.App=c}),t.App=c,c});else{var n=t._,e=i(t._,t.Khoai&&t.Khoai.EventEmitter||t.EventEmitter),o=t.App||null;o&&(o.init_callbacks&&n.isArray(o.init_callbacks)&&o.init_callbacks.length&&(n.each(o.init_callbacks,function(t){e.onInit(t)}),o.init_callbacks=[],delete o.init_callbacks),e=n.defaults(e,n.omit(o,"init_callbacks"))),t.App=e}}(this,function(t,i){function n(){i.call(this),this.private("init")}return n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.prototype.option=function(i,n,e){if(e=e||".",t.isObject(i)){var o,c=this;o=t.pick(i,function(i,n){return"_"===(n+"")[0]||t.isFunction(i)}),t.isEmpty(o)||console.warn("Invalid App options: "+Object.keys(o).join(", "));var s=t.omit(i,Object.keys(o));return t.each(s,function(t,i){c.option(t,i,e)}),this}var r=(i+"").split(e||".");return"_"===r[0][0]&&console.warn("Invalid App options: "+r[0][0]),t.set(this,r,n),this},n.prototype.onInit=function(t,i){return this.addOnceListener("init",t,{priority:i||500}),this},n.prototype.init=function(){this.emitEvent("init"),this.resetEvents("init")},new n});
//# sourceMappingURL=app.min.js.map
